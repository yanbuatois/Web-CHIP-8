{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/config.js","webpack:///./app/class/Emulator.js","webpack:///./app/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","config","height","width","factor","Emulator","constructor","file","this","canvas","document","getElementById","beeper","lock","context","getContext","Response","arrayBuffer","then","result","startEmulation","error","handleError","Error","buffer","delayTimer","soundTimer","opcode","pc","I","wasBlocked","blocked","unblockKey","superRoutines","shouldDraw","keys","Array","fill","ram","registers","matrix","push","Uint8Array","forEach","val","index","data","clear","registerKeyboardEvents","setInterval","gameLoop","keyToKeyboard","id","addEventListener","event","preventDefault","console","log","keyCode","beep","currentTime","play","tickLogic","tickDraw","matrixSize","length","row","rowSize","j","element","x","y","fillStyle","fillRect","delayTimerEnded","soundTimerEnded","pause","interpretOpcode","nbRegister1","nbRegister2","compare1","compare2","store1","store2","dontContinue","toString","Math","floor","random","xRegAdd","yRegAdd","startX","startY","endX","endY","column","pixel","currentPixel","pop","err","innerText","message","classList","remove","emulator","window","romSelector","files","disabled"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default {\n  height: 32,\n  width: 64,\n  factor: 8,\n};\n","import config from '../config';\n\nexport default class Emulator {\n  /**\n   * Create an emulator\n   * @param {Blob} file Read file\n   */\n  constructor(file) {\n    this.file = file;\n    this.canvas = document.getElementById('chip8-canvas');\n    this.beeper = document.getElementById('beep-audio');\n    this.canvas.height = config.height * config.factor;\n    this.canvas.width = config.width * config.factor;\n    this.lock = false;\n    /**\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context = this.canvas.getContext('2d');\n    if (!this.context) {\n      this.handleError(new Error('Your navigator must support 2D canvas to use this emulator.'));\n      return;\n    }\n    // this.context.enable();\n    new Response(file).arrayBuffer().then(result => this.startEmulation(result), error => this.handleError(error));\n  }\n\n  /**\n   * The emulation starts while the file is loaded.\n   * @param {ArrayBuffer} result The file buffer\n   */\n  startEmulation(result) {\n    this.buffer = result;\n    this.delayTimer = 0;\n    this.soundTimer = 0;\n    this.opcode = 0;\n    this.pc = 0x200;\n    this.I = 0;\n    this.wasBlocked = false;\n    this.blocked = false;\n    this.unblockKey = 0;\n    this.superRoutines = [];\n    this.shouldDraw = false;\n    this.keys = new Array(16).fill(false);\n    this.ram = new Array(4096).fill(0);\n    this.registers = new Array(16).fill(0);\n    this.matrix = [];\n    for (let i = 0; i < config.width; ++i) {\n      this.matrix.push(new Array(config.height).fill(0));\n    }\n    const array8 = new Uint8Array(this.buffer);\n    array8.forEach((val, index) => {\n      this.ram[0x200 + index] = val;\n    });\n    for (let i = 0x50; i <= 0xA0; ++i) {\n      const data = [0xF0, 0x90, 0x90, 0x90, 0xF0, // 0\n        0x20, 0x60, 0x20, 0x20, 0x70, // 1\n        0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2\n        0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3\n        0x90, 0x90, 0xF0, 0x10, 0x10, // 4\n        0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5\n        0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6\n        0xF0, 0x10, 0x20, 0x40, 0x40, // 7\n        0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8\n        0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9\n        0xF0, 0x90, 0xF0, 0x90, 0x90, // A\n        0xE0, 0x90, 0xE0, 0x90, 0xE0, // B\n        0xF0, 0x80, 0x80, 0x80, 0xF0, // C\n        0xE0, 0x90, 0x90, 0x90, 0xE0, // D\n        0xF0, 0x80, 0xF0, 0x80, 0xF0, // E\n        0xF0, 0x80, 0xF0, 0x80, 0x80]; // F\n      this.ram[i] = data[i - 0x50];\n    }\n    this.clear();\n    this.registerKeyboardEvents();\n    setInterval(() => this.gameLoop(), (1 / 60) * 1000);\n  }\n\n  keyToKeyboard(id) {\n    switch (id) {\n      case 49:\n        return 1;\n      case 50:\n        return 2;\n      case 51:\n        return 3;\n      case 52:\n        return 0xC;\n      case 81:\n        return 4;\n      case 87:\n        return 5;\n      case 69:\n        return 6;\n      case 82:\n        return 0xD;\n      case 65:\n        return 7;\n      case 83:\n        return 8;\n      case 68:\n        return 9;\n      case 70:\n        return 0xE;\n      case 90:\n        return 0xA;\n      case 88:\n        return 0;\n      case 67:\n        return 0xB;\n      case 66:\n        return 0xF;\n      default:\n        return false;\n    }\n  }\n\n  registerKeyboardEvents() {\n    this.canvas.addEventListener('keydown', (event) => {\n      event.preventDefault();\n      console.log(event);\n      this.blocked = false;\n      const key = this.keyToKeyboard(event.keyCode);\n      this.unblockKey = key;\n      if (key !== false) {\n        this.keys[key] = true;\n      }\n    });\n\n    this.canvas.addEventListener('keyup', (event) => {\n      event.preventDefault();\n      const key = this.keyToKeyboard(event.keyCode);\n      if (key !== false) {\n        this.keys[key] = false;\n      }\n    });\n  }\n\n  clear() {\n    this.matrix = [];\n    for (let i = 0; i < config.width; ++i) {\n      this.matrix.push(new Array(config.height).fill(0));\n    }\n    this.shouldDraw = true;\n  }\n\n  beep() {\n    this.beeper.currentTime = 0;\n    this.beeper.play();\n  }\n\n  gameLoop() {\n    this.tickLogic();\n    this.tickDraw();\n    // setTimeout(() => this.gameLoop(), (1 / 60) * 1000);\n    // setImmediate(() => this.gameLoop());\n  }\n\n  tickDraw() {\n    if (!this.shouldDraw) {\n      return;\n    }\n    const matrixSize = this.matrix.length;\n    for (let i = 0; i < matrixSize; ++i) {\n      const row = this.matrix[i];\n      const rowSize = row.length;\n      for (let j = 0; j < rowSize; ++j) {\n        const element = row[j];\n        const x = i * config.factor;\n        const y = j * config.factor;\n        this.context.fillStyle = element ? '#FFFFFF' : '#000000';\n        this.context.fillRect(x, y, config.factor, config.factor);\n      }\n    }\n\n    // console.log(this.matrix);\n    this.shouldDraw = false;\n  }\n\n  delayTimerEnded() {\n\n  }\n\n  soundTimerEnded() {\n    this.beep();\n  }\n\n  tickLogic() {\n    this.beeper.pause();\n    if (this.delayTimer) {\n      --this.delayTimer;\n      if (this.delayTimer) {\n        this.delayTimerEnded();\n      }\n    }\n    if (this.soundTimer) {\n      --this.soundTimer;\n      if (this.soundTimer) {\n        this.soundTimerEnded();\n      }\n    }\n\n    this.opcode = (this.ram[this.pc] << 8) | this.ram[this.pc + 1];\n    if (this.interpretOpcode()) {\n      this.pc += 2;\n    }\n  }\n\n  interpretOpcode() {\n    let dontContinue = false;\n    let nbRegister1, nbRegister2, compare1, compare2, store1, store2;\n    switch ((this.opcode & 0xF000) >> (4 * 3)) {\n      // Jump to address\n      case 0x1:\n        this.pc = this.opcode & 0x0FFF;\n        dontContinue = true;\n        break;\n      // Calls subroutine\n      case 0x2:\n        this.superRoutines.push(this.pc);\n        this.pc = this.opcode & 0x0FFF;\n        dontContinue = true;\n        break;\n      // Jump if VX == NN\n      case 0x3:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        compare1 = this.registers[nbRegister1];\n        compare2 = this.opcode & 0x00FF;\n        this.pc += (compare1 === compare2) ? 2 : 0;\n        break;\n      // Jump if VX != NN\n      case 0x4:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        compare1 = this.registers[nbRegister1];\n        compare2 = this.opcode & 0x00FF;\n        this.pc += (compare1 !== compare2) ? 2 : 0;\n        break;\n      // Jump if VX != VY\n      case 0x5:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        compare1 = this.registers[nbRegister1];\n        nbRegister2 = (this.opcode & 0x00F0) >> 4;\n        compare2 = this.registers[nbRegister2];\n        this.pc += (compare1 === compare2) ? 2 : 0;\n        break;\n      // VX = NN\n      case 0x6:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        this.registers[nbRegister1] = this.opcode & 0x00FF;\n        break;\n\n      case 0x7:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        store1 = this.opcode & 0x00FF;\n        this.registers[nbRegister1] += store1;\n        this.registers[nbRegister1] &= 0xff;\n        break;\n\n      case 0x8:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        nbRegister2 = (this.opcode & 0x00F0) >> 4;\n        switch (this.opcode & 0xf00f) {\n          case 0x8000:\n            this.registers[nbRegister1] = this.registers[nbRegister2];\n            break;\n          case 0x8001:\n            this.registers[nbRegister1] = this.registers[nbRegister1] | this.registers[nbRegister2];\n            break;\n          case 0x8002:\n            this.registers[nbRegister1] = this.registers[nbRegister1] & this.registers[nbRegister2];\n            break;\n          case 0x8003:\n            this.registers[nbRegister1] = this.registers[nbRegister1] ^ this.registers[nbRegister2];\n            break;\n          case 0x8004:\n            this.registers[nbRegister1] += this.registers[nbRegister2];\n            if (this.registers[nbRegister1] > 0xFF) {\n              this.registers[nbRegister1] = this.registers[nbRegister1] & 0xff;\n              this.registers[0xF] = 1;\n            } else {\n              this.registers[0xF] = 0;\n            }\n            break;\n          case 0x8005:\n            this.registers[nbRegister1] -= this.registers[nbRegister2];\n            if (this.registers[nbRegister1] < 0) {\n              this.registers[nbRegister1] = this.registers[nbRegister1] & 0xff;\n              this.registers[0xF] = 1;\n            } else {\n              this.registers[0xF] = 0;\n            }\n            break;\n          case 0x8006:\n            this.registers[0xF] = this.registers[nbRegister1] & 0b1;\n            this.registers[nbRegister1] >>= 1;\n            break;\n          case 0x8007:\n            this.registers[nbRegister1] = this.registers[nbRegister2] - this.registers[nbRegister1];\n            if (this.registers[nbRegister1] < 0) {\n              this.registers[nbRegister1] = this.registers[nbRegister1] & 0xff;\n              this.registers[0xF] = 1;\n            } else {\n              this.registers[0xF] = 0;\n            }\n            break;\n          case 0x800e:\n            this.registers[0xF] = this.registers[nbRegister1] & (0x80);\n            this.registers[nbRegister1] <<= 1;\n            break;\n          default:\n            this.handleError(new Error(`Unknown opcode (0x${this.opcode.toString(16)})`));\n        }\n        break;\n\n      case 0x9:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        compare1 = this.registers[nbRegister1];\n        nbRegister2 = (this.opcode & 0x00F0) >> 4;\n        compare2 = this.registers[nbRegister2];\n        this.pc += (compare1 !== compare2) ? 2 : 0;\n        break;\n\n      // Set memory value to I.\n      case 0xA:\n        this.I = this.opcode & 0x0FFF;\n        break;\n\n      case 0xB:\n        this.pc = this.registers[0] + (this.opcode & 0x0FFF);\n        dontContinue = true;\n        break;\n\n      case 0xC:\n        nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n        store1 = this.opcode & 0x00FF;\n        store2 = Math.floor(Math.random() * 0xff);\n        this.registers[nbRegister1] = store2 & store1;\n        break;\n\n      case 0xD:\n        (() => {\n          const xRegAdd = (this.opcode & 0x0F00) >> (4 * 2);\n          const yRegAdd = (this.opcode & 0x0F0) >> 4;\n          const height = this.opcode & 0x000F;\n          const width = 8;\n\n          const startX = this.registers[xRegAdd];\n          const startY = this.registers[yRegAdd];\n          const endX = startX + width;\n          const endY = startY + height;\n\n          this.registers[0xF] = 0;\n\n          for (let x = startX; x < endX && x < this.matrix.length; ++x) {\n            const column = this.matrix[x];\n\n            for (let y = startY; y < endY && y < column.length; ++y) {\n              const pixels = this.ram[this.I + (y - startY)];\n              const pixel = (pixels & (0x80 >> (x - startX)));\n              const currentPixel = column[y];\n              if (pixel && currentPixel) {\n                this.registers[0xF] = 1;\n              }\n              // console.log(currentPixel ^ (pixel) ? 1 : 0);\n              this.matrix[x][y] ^= (pixel ? 1 : 0);\n            }\n\n            // console.log(this.matrix[startX][startY]);\n          }\n          this.shouldDraw = true;\n        })();\n        break;\n\n      default:\n        switch (this.opcode & 0xF0FF) {\n          // Clear screen\n          case 0x00E0:\n            this.clear();\n            break;\n          // Return from subroutine\n          case 0x00EE:\n            this.pc = this.superRoutines.pop();\n            break;\n          case 0xE09E:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            compare1 = this.registers[nbRegister1];\n            this.pc += this.keys[compare1] ? 2 : 0;\n            break;\n          case 0xE0A1:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            compare1 = this.registers[nbRegister1];\n            this.pc += this.keys[compare1] ? 0 : 2;\n            break;\n          case 0xF007:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            this.registers[nbRegister1] = this.delayTimer;\n            break;\n          case 0xF00A:\n            if (this.blocked || !this.wasBlocked) {\n              this.wasBlocked = true;\n              this.blocked = true;\n              dontContinue = true;\n            } else {\n              nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n              this.registers[nbRegister1] = this.unblockKey;\n              this.wasBlocked = false;\n            }\n            break;\n\n          case 0xF015:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            store1 = this.registers[nbRegister1];\n            this.delayTimer = store1;\n            break;\n          case 0xF018:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            store1 = this.registers[nbRegister1];\n            this.soundTimer = store1;\n            break;\n          case 0xF01E:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            this.I += this.registers[nbRegister1];\n            if (this.I > 0xFFF) {\n              this.I &= 0xFFF;\n              this.registers[0xF] = 1;\n            } else {\n              this.registers[0xF] = 0;\n            }\n            break;\n\n          case 0xF029:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            store1 = this.registers[nbRegister1];\n            this.I = 0x50 + (store1 * 5);\n            break;\n\n          case 0xF033:\n            nbRegister1 = (this.opcode & 0x0F00) >> (4 * 2);\n            store1 = this.registers[nbRegister1];\n            this.ram[this.I] = Math.floor(store1 / 100);\n            this.ram[this.I + 1] = Math.floor((store1 % 100) / 10);\n            this.ram[this.I + 2] = store1 % 10;\n            break;\n\n          case 0xF055:\n            nbRegister2 = (this.opcode & 0x0F00) >> (4 * 2);\n            for (let i = 0; i <= nbRegister2; ++i) {\n              this.ram[this.I + i] = this.registers[i];\n            }\n            break;\n\n          case 0xF065:\n            nbRegister2 = (this.opcode & 0x0F00) >> (4 * 2);\n            for (let i = 0; i <= nbRegister2; ++i) {\n              this.registers[i] = this.ram[this.I + i];\n            }\n            break;\n\n          default:\n            this.handleError(new Error(`Unknown opcode (0x${this.opcode.toString(16)})`));\n        }\n    }\n    return !dontContinue;\n  }\n\n  /**\n   * Handle an error.\n   * @param {Error} err The error\n   */\n  handleError(err) {\n    const element = document.getElementById('errors');\n    element.innerText = err.message;\n    element.classList.remove('d-none');\n    console.error(err);\n  }\n}\n","import Emulator from './class/Emulator';\n\nlet emulator = null;\nwindow.addEventListener('load', () => {\n  const romSelector = document.getElementById('rom-file');\n  document.getElementById('rom-loader').addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (romSelector.files.length < 1) {\n      return;\n    }\n    document.getElementById('rom-loader-btn').disabled = true;\n    emulator = new Emulator(romSelector.files[0]);\n  });\n});\n"],"sourceRoot":""}